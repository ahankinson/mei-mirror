<?xml version="1.0" encoding="UTF-8"?>
<!--
  © 2010 by the Music Encoding Initiative (MEI) Council.
  Licensed under the Creative Commons Attribution-NoDerivs Unported License, 
  Version 3.0 (the "License"); you may not use this file except in compliance with the License.
  You may obtain a copy of the License at http://creativecommons.org/licenses/by-nd/3.0/.
-->

<div xmlns="http://www.tei-c.org/ns/1.0" type="div1" xml:id="editTrans" n="0">
  <head>Editorial/Transcriptional</head>
  <p>
    As in editing a printed text, so in encoding a musical text in electronic form, it may be necessary to 
    accommodate editorial comment on the text and to render account of any changes made to the text in 
    preparing it. The tags described in this chapter may be used to record such editorial interventions, 
    whether made by the encoder, by the editor of a printed edition used as a copy text, by earlier editors, 
    or by the copyists of manuscripts.
  </p>
  <p>
    The scope of the elements described herein is therefore the description of features relating to the genesis,
    later revision and editorial interpretation of a text. Mechanisms for describing multiple sources are 
    described in chapter <ptr target="#critApp"/> of these Guidelines. 
  </p>
  <p>
    The elements described in this chapter may be contained by a wide range of other MEI elements. Also, they 
    themselves may contain a variety of different elements. It is up to the encoder to check his use of these
    elements for sanity: He has to make sure that the child elements are allowed in the context of the current parent
    element, just as if the element from this module would not be included in the encoding. 
  </p>
  <p>
    For most of the elements discussed here, some encoders may wish to indicate both a responsibility, that is, 
    a code indicating the person or agency responsible for making the editorial intervention in question, 
    and also an indication of the degree of certainty which the encoder wishes to associate with the intervention. 
    Because these requirements are common to many of the elements discussed in this section, they are provided by 
    attribute classes, specifically <ident type="class">att.edit</ident>, which itself inherits attributes from 
    two further classes called <ident type="class">att.responsibility</ident>. Any of the elements discussed here 
    thus may potentially carry any of the following optional attributes: 
    <specList>
      <specDesc key="att.edit" atts="cert"/>
      <specDesc key="att.responsibility" atts="resp"/>
    </specList>
  </p>
  <p>
    Many of the elements discussed here can be used in two ways. Their primary purpose is to indicate that the 
    text encoded as the element's content represents an editorial intervention (or non-intervention) of a specific 
    kind, indicated by the element itself. However, pairs or other meaningful groupings of such elements can also 
    be supplied, wrapped within a special purpose <gi>choice</gi> element:
    <specList>
      <specDesc key="choice"/>
    </specList>
    This element enables the encoder to represent for example a text in its ‘original’ uncorrected and unaltered 
    form, alongside the same text in one or more ‘edited’ forms. This usage permits software to switch automatically 
    between one ‘view’ of a text and another, so that (for example) a stylesheet may be set to display either the 
    text in its original form or after the application of editorial interventions of particular kinds.
  </p>
  <p>
    Elements which can be combined in this way constitute the <ident type="class">model.choicePart</ident> class. 
    The default members of this class are <gi>sic</gi>, <gi>corr</gi>, <gi>reg</gi>, <gi>orig</gi>, <gi>unclear</gi>,
    <gi>add</gi>, and <gi>del</gi>; their functions and usage are described further below.
  </p>
  <p>
    Three categories of editorial intervention are discussed in this section:
    <list type="simple">
      <item>indication or correction of apparent errors </item>
      <item>indication or regularization of variant, irregular, non-standard, or eccentric forms</item>
      <item>editorial additions, suppressions, and omissions</item>
    </list>
  </p>
  <div type="div2" xml:id="edittransErrors">
    <head>Apparent Errors</head>
    <p>
      When the source material to be encoded is manifestly faulty, an encoder or transcriber may elect simply to 
      correct it without comment, although for scholarly purposes it will often be more generally useful to 
      record both the correction and the original state of the text. The elements described here enable all three 
      approaches, and allows the last to be done is such a way as make it easy for software to present either the 
      original or the correction. 
      <specList>
        <specDesc key="sic"/>
        <specDesc key="corr"/>
      </specList>
    </p>
    <p>
      The following examples show alternative treatment of the same material. The example reads:
      <!-- TODO: Image of chord C4-E4-G4-A4, all being quarters except the G4 being a half. -->
    </p>
    <p>
      An encoder may choose to correct the engraver's error, either silently or with an indication that a correction
      has been made, as follows:
      <egXML xmlns="http://www.tei-c.org/ns/Examples">
        <chord>
          <note pname="c" dur="4" oct="4"/>
          <note pname="e" dur="4" oct="4"/>
          <corr>
            <note pname="g" dur="4" oct="4"/>
          </corr>
          <note pname="a" dur="4" oct="4"/>
        </chord>
      </egXML>
    </p>
    <p>
      Alternatively, the encoder may simply record the typographic error without correcting it, either without comment 
      or with a <gi>sic</gi> element to indicate the error is not a transcription error in the encoding:
      <egXML xmlns="http://www.tei-c.org/ns/Examples">
        <chord>
          <note pname="c" dur="4" oct="4"/>
          <note pname="e" dur="4" oct="4"/>
          <sic>
            <note pname="g" dur="2" oct="4"/>
          </sic>
          <note pname="a" dur="4" oct="4"/>
        </chord>
      </egXML>
    </p>
    <p>
      If the encoder elects both to record the original source text and to provide a correction for the sake of 
      transparency, both <gi>sic</gi> and <gi>corr</gi> are used, wrapped in a <gi>choice</gi>: 
      <egXML xmlns="http://www.tei-c.org/ns/Examples">
        <chord>
          <note pname="c" dur="4" oct="4"/>
          <note pname="e" dur="4" oct="4"/>
          <choice>
            <sic>
              <note pname="g" dur="2" oct="4"/>
            </sic>
            <corr>
              <note pname="g" dur="4" oct="4"/>
            </corr>
          </choice>
          <note pname="a" dur="4" oct="4"/>
        </chord>
      </egXML>
    </p>
    <p>
      The <gi>sic</gi> and <gi>corr</gi> elements can appear in either order.
    </p>
    <p>
      If it is desired to indicate the person or edition responsible for the emendation, this might be done as follows: 
      <egXML xmlns="http://www.tei-c.org/ns/Examples">
        …
        <chord>
          <note pname="c" dur="4" oct="4"/>
          <note pname="e" dur="4" oct="4"/>
          <choice>
            <sic>
              <note pname="g" dur="2" oct="4"/>
            </sic>
            <corr resp="#JK">
              <note pname="g" dur="4" oct="4"/>
            </corr>
          </choice>
          <note pname="a" dur="4" oct="4"/>
        </chord>
        …
        
        <!-- within the header for this document: -->
        <respStmt>
          <name xml:id="JK" role="editor">Johannes Kepper</name>
        </respStmt>
      </egXML>
    </p>
    <p>
      Here the <att>resp</att> attribute has been used to indicate responsibility for the correction. Its value (<val>#JK</val>)
      is an example of the <term>pointer</term> values discussed in section <ptr target="#"/><!-- TODO -->; in this case, it points 
      to a <gi>name</gi> element within the MEI Header, but any element might be indicated in this way, if the correction
      has been taken from some other source. The <att>resp</att> attribute is available for all elements which are 
      members of the <ident type="class">att.responsibility</ident> class. The <ident type="class">att.edit</ident> class 
      makes available a <att>cert</att> attribute,which may be used to indicate the degree of editorial confidence in a 
      particular correction, as in the following example:
      <egXML xmlns="http://www.tei-c.org/ns/Examples">
        <chord>
          <note pname="c" dur="4" oct="4"/>
          <note pname="e" dur="4" oct="4"/>
          <choice>
            <sic>
              <note pname="g" dur="2" oct="4"/>
            </sic>
            <corr cert="high">
              <note pname="g" dur="4" oct="4"/>
            </corr>
          </choice>
          <note pname="a" dur="4" oct="4"/>
        </chord>
      </egXML>
    </p>
    <p>
      Where, as here, the correction takes the form of adding text not otherwise present in the text being encoded, 
      the encoder should use the <gi>corr</gi> element. Where the correction is present in the text being encoded, 
      and consists of some combination of visible additions and deletions, the elements <gi>add</gi> or <gi>del</gi> 
      should be used: see further section <ptr target="#edittransAddDel"/> below. Where the correction takes the form 
      of addition of material not present in the original because of physical damage or illegibility, the <gi>supplied</gi>
      element may be used. Where the <soCalled>correction</soCalled> is simply a matter of expanding an abbreviation 
      the <gi>expan</gi> element may be used.  
    </p>
  </div>
  <div type="div2" xml:id="edittransReg">
    <head>Regularization and Normalization</head>
    <p>
      When the musical source makes extensive use of unusual symbol shapes or non-standard notation features, 
      it may be desirable for a number of reasons to <term>regularize</term> it: that is, to provide 
      <soCalled>standard</soCalled> or <soCalled>regularized</soCalled> forms equivalent to the non-standard forms.
    </p>
    <p>
      As with other such changes to the source text, the changes may be made silently (in which case the MEI header
      should specify the types of silent changes made) or may be explicitly marked using the following elements:
      <specList>
        <specDesc key="reg"/>
        <specDesc key="orig"/>
        <specDesc key="choice"/>
      </specList>
    </p>
    <p>
      Consider this traditional soprano clef appearing somewhere in the course of a musical piece:
      <!-- TODO: graphic of simple C-Clef on second line… -->
    </p>
    <p>
      An encoder may choose to preserve this original clef, but simply flag it as nonstandard from the perspective of 
      current practice by using the <gi>orig</gi> element with no attributes specified, as follows:
      <egXML xmlns="http://www.tei-c.org/ns/Examples">
        …
        <orig>
          <clef shape="C" line="2"/>
        </orig>
        …
      </egXML>
    </p>
    <p>
      Alternatively, the encoder may simply indicate that the clef has been modernized into a G-clef by using the 
      <gi>reg</gi> element with no attributes specified, as follows:
      <egXML xmlns="http://www.tei-c.org/ns/Examples">
        …
        <reg>
          <clef shape="G" line="2"/>
        </reg>
        …
      </egXML>  
    </p>
    <p>
      Alternatively, the encoder may encode both old and modernized shape, so that applications may render both 
      solutions at the readers will:
      <egXML xmlns="http://www.tei-c.org/ns/Examples">
        …
        <choice>
          <orig>
            <clef shape="C" line="2"/>
          </orig>
          <reg>
            <clef shape="G" line="2"/>
          </reg>
        </choice>  
        …
      </egXML>
    </p>
    <p>
      As elsewhere, the <att>resp</att> attribute may be used to specify the agency responsible for the regularization.
    </p>
  </div>
  
  <div type="div2" xml:id="edittransAddDelOmissions">
    <head>Additions, Deletions and Omissions</head>
    <p>
      The following elements are used to indicate when single notational symbols have been omitted from, added to, or marked for 
      deletion from, a musical text. Like the other editorial elements, they allow for a wide range of editorial practices: 
      <specList>
        <specDesc key="gap" atts="reason"/>
        <specDesc key="unclear" atts="reason"/>
        <specDesc key="add"/>
        <specDesc key="del"/>
      </specList>
    </p>
    <div type="div3" xml:id="edittransOmission">
      <head>Omissions, unclear readings, damages and supplied readings</head>
      <p>
        Encoders may choose to omit parts of the source for reasons ranging from illegibility or impossibility of transcribing it, 
        to editorial policy, e.g. a systematic exclusion of poetry or prose from an encoding. The full details of the policy
        decisions concerned should be documented in the MEI Header (see section <ptr target="#"/> <!-- TODO: header-encodingDesc -->).
        Each place in the text at which omission has taken place should be marked with a <gi>gap</gi> element, with optionally 
        further information about the reason for the omission, its extent, and the person or agency responsible for it, 
        as in the following examples: 
        <egXML xmlns="http://www.tei-c.org/ns/Examples">
          <gap reason="illegible" unit="quarter" quantity="2"/>
        </egXML>
        <egXML xmlns="http://www.tei-c.org/ns/Examples">
          <gap reason="overwriting illegible" extent="several notes"/>
        </egXML>
        Note that the extent of the gap may be marked precisely using attributes <att>unit</att> and <att>quantity</att>, or more 
        descriptively using the <att>extent</att> attribute. 
      </p>  
      <p>
        Unlike TEI, MEI does not offer a <foreign>desc</foreign>-element for further descriptions of the reason of a gap. Instead, an
        <gi>annot</gi> may refer the gap with its <att>plist</att> and provide such additional information as its content.
      </p>
      <p>
        The <gi>unclear</gi> element is used to mark passages in the original which cannot be read with confidence, or 
        about which the transcriber is uncertain for other reasons, as for example when transcribing a illegible source. 
        Its <att>reason</att> and <att>resp</att> attributes are used, as with the <gi>gap</gi> element, to indicate the 
        cause of uncertainty and the person responsible for the conjectured reading.
        <egXML xmlns="http://www.tei-c.org/ns/Examples">
          <note pname="c" dur="4" oct="4">
            <unclear>
              <artic artic="acc" reason="ink blot"/>
            </unclear>
          </note>
        </egXML>
      </p>
      <p>
        Where the difficulty in transcription arises from an identifiable cause, the <att>agent</att> attribute signifies
        the causative agent. The <att>cert</att> attribute signifies the degree of certainty ascribed to the transcription
        of the text contained within the <gi>unclear</gi> element. Where the difficulty in transcription arises from action
        (partial deletion, etc.) assignable to an identifiable hand, the <att>hand</att> attribute signifies the hand 
        responsible for the action.
      </p>
      <p>
        When the reason for a gap in the encoding is damage of the text-bearing document, the <gi>damage</gi> element is used
        instead of the <gi>gap</gi> element. In the case of damage resulting from
        an identifiable cause, the <att>agent</att> attribute signifies the causative agent. The <att>degree</att>
        attribute signifies the degree of damage according to a convenient scale. A <gi>damage</gi>
        tag with this attribute should only be used where the text may be read with some confidence;
        data supplied from other sources should be tagged as <gi>supplied</gi>. The <att>extent</att> attribute
        indicates approximately how much text is in the damaged area, in notes, measures, inches, or
        any appropriate unit, where this cannot be deduced from the contents of the tag. For
        example, the damage may span structural divisions in the text so that the tag must then be
        empty of content. In the case of damage (deliberate defacement, etc.) assignable to an
        identifiable hand, the <att>hand</att> attribute signifies the hand responsible for the damage.
      </p>  
      <p>
        Sometimes the editor provides information not present in the source material. These conjectures or emendations
        are marked up in MEI using the <gi>supplied</gi> element. 
      </p>
      <p>
        The following example demonstrates the use of the <gi>supplied</gi> element in combination with <gi>choice</gi>
        and <gi>gap</gi>:
        <egXML xmlns="http://www.tei-c.org/ns/Examples">
          <beam>
            <note pname="c" oct="3" dur="4"/>
            <note pname="d" oct="3" dur="4"/>
            <choice>
              <gap extent="two eights"/>
              <supplied>
                <note pname="e" oct="3" dur="4"/>
                <note pname="f" oct="3" dur="4"/>
              </supplied>
            </choice>
            <note pname="g" oct="3" dur="4"/>
            <note pname="a" oct="3" dur="4"/>
          </beam>
        </egXML>
      </p>
      <p>
        When the presumed loss of text arises from an identifiable cause, <att>agent</att> signifies the causative
        agent. When the presumed loss of text arises from action (partial deletion, etc.) assignable to an 
        identifiable hand, the <att>hand</att> attribute signifies the hand responsible for the action. The 
        <att>reason</att> attribute indicates why the text has to be supplied, e.g. 'overbinding', 'faded ink', 
        'lost folio', 'omitted in original', etc. The <att>source</att> attribute contains the source of the 
        supplied text. The editor(s) responsible for supplied material may be recorded in the <att>resp</att> attribute.
        The value of <att>resp</att> must point to one or more identifiers declared in the document header. The 
        <att>cert</att> attribute signifies the degree of certainty ascribed to the supplied material.
      </p>
    </div>
    <div type="div3" xml:id="edittransAddDel">
      <head>Additions and Deletions</head>
      <p>
        The <gi>add</gi> and <gi>del</gi> elements may be used to record where sections of various extent have been added or 
        deleted in the source material.
      </p>
      <p>
        The following example demonstrates the usage of <gi>add</gi> to mark up a note being added to an existing chord:
        <egXML xmlns="http://www.tei-c.org/ns/Examples">
          <chord>
            <note pname="c"/>
            <note pname="e"/>
            <note pname="g"/>
            <add>
              <note pname="b" accid="f"/>
            </add>
          </chord>
        </egXML>
        The next example shows how <gi>del</gi> may be used to capture the information that two measures have been cancelled.
        As seen in this example, the <att>rend</att> attribute is used to specify the method of deletion. 
        <egXML xmlns="http://www.tei-c.org/ns/Examples">
          <measure><!-- … --></measure>
          <measure><!-- … --></measure>
          <del rend="strikethrough">
            <measure><!-- … --></measure>
            <measure><!-- … --></measure>
          </del>
          <measure><!-- … --></measure>
        </egXML>
      </p>
      <p>
        Both elements may be further specified by using the <att>hand</att> attribute, which allows to refer to a person
        or else defined in the MEI Header. Whereas the <att>hand</att> attribute marks responsibility for the textual change,
        the <att>resp</att> attribute is used to refer the editor who identified this textual change as such. The 
        <att>cert</att> attribute signifies the degree of certainty ascribed to the identification of the hand of the
        deletion or addition respectively. 
      </p>
      <p>
        The <gi>add</gi> element should not be used to mark editorial changes, such as supplying a note omitted by mistake 
        from the source text or a passage present in another source. In these cases, either the <gi>corr</gi> or <gi>supplied</gi> 
        tags should be used instead.
      </p>
    </div>
    <div type="div3" xml:id="edittransSubst">
      <head>Substitutions, Restorations and Handshifts</head>
      <p>
        When several interventions to the musical text are to be regarded as single action, they are grouped using the 
        <gi>subst</gi> element. The most common combination is a replacement of portions of the musical text using both
        the <gi>add</gi> and <gi>del</gi> element, as seen in the following example:
        <egXML xmlns="http://www.tei-c.org/ns/Examples">
          <layer>
            <!-- preceding content -->
            <subst>
              <del>
                <note pname="c" oct="4" dur="4"/>
              </del>
              <add>
                <beam>
                  <note pname="c" oct="4" dur="8"/>
                  <note pname="d" oct="4" dur="8"/>
                </beam>
              </add>
            </subst>
            <!-- subsequent content -->
          </layer>
        </egXML>
      </p>
      <p>
        A closely related intervention to a text is the restoration of a previously deleted section. For this purpose
        MEI offers the <gi>restore</gi> element, which may contain a <gi>del</gi> or other content directly.
      </p>
      <p>
        The following example demonstrates a lyric which has been cancelled and later restored by overwriting it:
        <egXML xmlns="http://www.tei-c.org/ns/Examples">
          <note pname="c" oct="4" dur="4">
            <restore desc="overwritten">
              <del>
                <syl>God</syl>
              </del>
            </restore>
          </note>
        </egXML>
      </p>
      <p>
        The <att>desc</att> attribute gives a prose description of the means of restoration. The
        <att>cert</att> attribute signifies the degree of certainty ascribed to the identification of the hand
        of the restoration. The <att>type</att> attribute may be used to indicate the action cancelled by the
        restoration. The <att>resp</att> attribute contains an ID reference to an element containing the name
        of the editor or transcriber responsible for identifying the hand of the restoration. The
        <att>hand</att> attribute signifies the hand of the agent which made the restoration.
      </p>
      <p>
        In the case of manuscripts written by several authors, the encoder may want to assign responsibility 
        to them for all passages of the source. Whereas the writers themselves may be identified and described in the 
        MEI Header (see section <ptr target="#"/> <!-- TODO: Add reference -->), the actual musical content may refer 
        to them using the <att>hand</att> attribute provided by the model class <ident type="class">att.handident</ident>
        in the Shared Module (see section <ptr target="#"/> <!-- TODO: Add reference -->). The following example illustrates 
        how to assign a single note to a particular writer:
        <egXML xmlns="http://www.tei-c.org/ns/Examples">
          <note pname="f" oct="5" dur="8" hand="#copyist1"/>
          
          <!-- In document Header: -->
          <handList>
            <hand xml:id="copyist1" medium="brown ink"/>
            <!-- other hands… -->
          </handList>
        </egXML>
      </p>
      <p>
        In most situations, however, it seems cumbersome to add a <att>hand</att> attribute to the markup for every
        musical event in the source. For this purpose MEI offers a <gi>handShift</gi> element. This element marks a
        change of the writer or his writing style.
      </p>
      <p>   
        The <att>character</att> attribute describes characteristics of the hand, particularly those related to the 
        quality of the writing, e.g., 'shaky', 'thick', regular'. A description of the tint or type of ink, e.g.
        'brown' or the writing medium, e.g. 'pencil', may be placed in the <att>medium</att> attribute. 
        <egXML xmlns="http://www.tei-c.org/ns/Examples">
          <layer>
            <note />
            <note />
            <handShift medium="blue ink"/>
            <note />
            <note />
          </layer>
        </egXML>
      </p>  
      <p>  
        The new hand may be identified using the <att>new</att> attribute, while the previous hand may be recorded in
        the <att>old</att> attribute. The <att>resp</att> attribute contains an ID reference to an element containing the
        name of the editor or transcriber responsible for identifying the change of hand. The <att>cert</att>
        attribute signifies the degree of certainty ascribed to the identification of the new hand.
      </p>
      <p>
        When using this element, it is important to ensure that all layers and staves are considered. 
        Every <gi>handShift</gi> affects only the content of its own layer and staff, even in the following measures. Therefore,
        there has to be a separate <gi>handShift</gi> for every <gi>staff</gi> and <gi>layer</gi>. This mechanims
        allows to describe shifts at timestamps that differ between each staff. 
        <!-- TODO: It seems like slur is not memberOf key="att.handident", which seems to me to be a clear bug -->
      </p>
    </div> 
    
  </div>
</div>
