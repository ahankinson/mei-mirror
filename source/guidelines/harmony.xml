<?xml version="1.0" encoding="UTF-8"?>
<!-- 
  © 2012 by the Music Encoding Initiative (MEI) Council.
  Licensed under the Educational Community License, Version 2.0 (the "License"); you may
  not use this file except in compliance with the License. You may obtain a copy of the License
  at http://www.osedu.org/licenses/ECL-2.0.
  
  Unless required by applicable law or agreed to in writing, software distributed under the
  License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS
  OF ANY KIND, either express or implied. See the License for the specific language
  governing permissions and limitations under the License.
  
  This is a derivative work based on earlier versions of the schema © 2001-2006 Perry Roland
  and the Rector and Visitors of the University of Virginia; licensed under the Educational
  Community License version 1.0.
  
  CONTACT: info@music-encoding.org
-->

<div type="div1" xmlns="http://www.tei-c.org/ns/1.0" xml:id="harmony" n="0">
  <head>Harmony</head>
  <p>This chapter describes the encoding of indications of harmony ocurring within a music text,
    e.g., chord names, tablature grids, figured bass, or signs for harmonic analysis. The module
    provides ways of connecting these indications with definitions that can be referenced from
    within the same document or in other documents.</p>
  <div type="div2" xml:id="harmonyOverview">
    <!-- Overview -->
    <head>Overview of the Harmony Module</head>
    <p>The module makes available the following components:</p>

    <div type="div3" xml:id="harmonyElements">
      <head>Elements</head>
      <p>
        <specList>
          <specDesc key="barre"/>
          <specDesc key="chordDef"/>
          <specDesc key="chordMember"/>
          <specDesc key="chordTable"/>
          <specDesc key="f"/>
          <specDesc key="fb"/>
          <specDesc key="harm"/>
        </specList>
      </p>
    </div>

    <div type="div3" xml:id="harmonyAttributeClasses">
      <head>Attribute Classes</head>
      <p>
        <specList>
          <specDesc key="att.fretlocation"/>
          <specDesc key="att.harm.anl"/>
          <specDesc key="att.harm.ges"/>
          <specDesc key="att.harm.log"/>
          <specDesc key="att.harm.vis"/>
        </specList>
      </p>
    </div>

    <div type="div3" xml:id="harmonyModelClasses">
      <head>Model Classes</head>
      <p>
        <specList>
          <specDesc key="model.chordTableLike"/>
          <specDesc key="model.controleventLike.harmony"/>
          <specDesc key="model.figbassLike"/>
          <specDesc key="model.fLike"/>
          <specDesc key="model.harmLike"/>
        </specList>
      </p>
    </div>
  </div>

  <div type="div2" xml:id="harmonyDetails">
    <head>Detailed description</head>
    <p>MEI provides multiple methods for encoding chords resp. harmonic information.</p>
    <p>Basically chords in the music text can be encoded using the <gi>chord</gi> element defined in
        <ptr target="#shared"/>: <specList>
        <specDesc key="chord"/>
      </specList>
    </p>
    <p>If this is what you are looking for, please refer to the rerspective chapter of these
      guidelines (<ptr target="#shared"/>).</p>
    <p>The <ref target="#harmony">Harmony Module</ref> described here however has a different focus.
      Instead of defining actual notes in the music text elements and attributes of this module
      allow for encoding proprietary indications of harmony in the score, such as chord symbols,
      tablature grids, figured bass or symbols for harmonic analysis (the possibilities of which
      come to their full scope in conjunction with <ptr target="#analysis"/>).</p>
    <p>Basically elements defined in this module influence your encoding possibilities in
        <gi>scoreDef</gi> (providing global score metadata) and for encoding indications of harmony
      in the music text.</p>

    <div type="div3" xml:id="harmonyMetadataInscoreDef">
      <head>Providing Chord Metadata in <gi>scoreDef</gi></head>
      <p>Basically elements defined in this module influence your encoding possibilities in
          <gi>scoreDef</gi> (providing global score metadata) for defining chords and tablatures
        that can be referenced when encoding indications of harmony in the music text, in order to
        provide these indications with musical information.</p>
      <p>The starting point in <gi>scoreDef</gi> is a new child element:</p>
      <p>
        <specList>
          <specDesc key="chordTable"/>
        </specList>
      </p>
      <p>A chord then is defined in <gi>chordTable</gi>&#x2019;s child element:</p>
      <p>
        <specList>
          <specDesc key="chordDef" atts="id pos"/>
        </specList>
      </p>
      <p>An <att>id</att> attribute, while not required by the schema, is needed so that
          <gi>harm</gi> elements can reference a particular chord definition. The <att>pos</att>
        (position) attribute is provided in order to create displayable chord tablature grids.</p>
      <p>Individual pitches of a chord are to be encoded using the child element:</p>
      <p>
        <specList>
          <specDesc key="chordMember" atts="inth fing fret"/>
        </specList>
      </p>
      <p>In order to spcify the individual pitches more precicesly following attributes should be
        used.</p>
      <p>The <att>inth</att> (harmonic interval) attribute may be used in order to indicate the
        number of half steps above the bass note, when encoding the bass note the attributes value
        should be set to <q>0</q>, of course.</p>
      <p>When about to encode tablature grids, &#2013; be it in transcribing or just wanting to
        supply additional rendition information &#2013; <att>fing</att> (finger) and <att>fret</att>
        attributes are provided. The fret at which a finger should be placed is recorded in the
          <att>fret</att> attribute, while <att>fing</att> indicates which finger, if any, should be
        used to play an individual string. The values <q>x</q> and <q>o</q> are used to indicate
        muffled and open strings, respectively. When intending to render proper grids
          <att>fret</att> and <att>fing</att> form essential data.</p>
      <p>Another child element of <gi>chordDef</gi> being essential for encoding tablature grids
        is:</p>
      <p>
        <specList>
          <specDesc key="barre" atts="fret startid endid"/>
        </specList>
      </p>
      <p><gi>barre</gi> sub-elements may be used when a single finger is used to stop multiple
        strings and <att>fret</att> giving the fret position at which the barre should be
        created.</p>
      <p>The <att>startid</att> and <att>endid</att> attributes are used to indicate the
          <gi>chordMember</gi> elements on which the barre starts and finishes respectively.</p>
    </div>

    <div type="div3" xml:id="harmonyMusicText">
      <head>Encoding Indications of Harmony in the Music Text</head>
      <p>When encoding the music text one might stumble upon tablature grids, chord representations
        above a staff or figured-bass. Moreover indications of harmonic analysis or &#x2013; be they
        present in the music text or additional ones by the MEI editor &#x2013;</p>

      <p>
        <specList>
          <specDesc key="harm" atts="startid tstamp tstamp.ges tstamp.real"/>
        </specList>
      </p>
      <p>Must have one of the attributes: <att>startid</att>, <att>tstamp</att>,
          <att>tstamp.ges</att> or <att>tstamp.real</att></p>

      <p>
        <specList>
          <specDesc key="f"/>
        </specList>
      </p>
    </div>

  </div>
</div>
